```python
import cv2
import numpy as np
from google.colab.patches import cv2_imshow
from google.colab import files
import matplotlib.pyplot as plt

uploaded = files.upload()

try:
    filename = next(iter(uploaded))
except StopIteration:
    raise SystemExit("No file was uploaded. Please run the cell again.")

original_image = cv2.imread(filename)

gray_image = cv2.cvtColor(original_image, cv2.COLOR_BGR2GRAY)

inverted_gray_image = 255 - gray_image

blur_kernel_size = (21, 21)
blurred_inverted_image = cv2.GaussianBlur(inverted_gray_image, blur_kernel_size, 0)

inverted_blurred_image = 255 - blurred_inverted_image

pencil_sketch = cv2.divide(gray_image, inverted_blurred_image, scale=256.0)

original_rgb = cv2.cvtColor(original_image, cv2.COLOR_BGR2RGB)

plt.figure(figsize=(16, 8))

plt.subplot(1, 2, 1)
plt.imshow(original_rgb)
plt.title("Original Image")
plt.axis('off')

plt.subplot(1, 2, 2)
plt.imshow(pencil_sketch, cmap='gray')
plt.title("Pencil Sketch")
plt.axis('off')

plt.show()

output_filename = 'pencil_sketch_output.png'
cv2.imwrite(output_filename, pencil_sketch)
files.download(output_filename)
```
